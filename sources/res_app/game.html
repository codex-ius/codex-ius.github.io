<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crucigrama Live ‚ö°</title>
    <style>
        :root {
            --primary: #6c5ce7;
            --success: #00b894;
            --error: #ff7675;
            --dark: #2d3436;
            --cell-size: 40px;
        }

        body { 
            font-family: 'Segoe UI', sans-serif; 
            background: linear-gradient(135deg, #a29bfe 0%, #6c5ce7 100%);
            display: flex; flex-direction: column; align-items: center; 
            min-height: 100vh; margin: 0; padding: 20px; color: white;
        }

        h2 { text-shadow: 2px 2px 4px rgba(0,0,0,0.3); margin-bottom: 15px; }

        #grid-container {
            display: grid;
            grid-template-columns: repeat(9, var(--cell-size));
            grid-template-rows: repeat(7, var(--cell-size));
            gap: 2px;
            background: rgba(0,0,0,0.2);
            padding: 8px;
            border-radius: 12px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.3);
            backdrop-filter: blur(5px);
        }

        .cell {
            width: var(--cell-size); height: var(--cell-size);
            background: #2d3436; position: relative;
            transition: all 0.2s ease; border-radius: 4px;
        }

        .cell.white { background: white; }
        
        .cell input {
            width: 100%; height: 100%; border: none; text-align: center;
            font-size: 1.2rem; text-transform: uppercase; font-weight: bold;
            background: transparent; outline: none; color: var(--dark);
        }

        .cell .num {
            position: absolute; top: 1px; left: 3px;
            font-size: 0.6rem; color: #636e72; pointer-events: none;
        }

        /* Estados de Validaci√≥n Live */
        .correct { background-color: #55efc4 !important; transform: scale(0.95); }
        .correct input { color: #006266; }
        .wrong { background-color: #ff7675 !important; animation: shake 0.3s ease; }
        .wrong input { color: white; }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-3px); }
            75% { transform: translateX(3px); }
        }

        .clues-container {
            display: flex; gap: 20px; margin-top: 25px; width: 100%; max-width: 700px;
        }
        .clues-column { 
            flex: 1; background: rgba(255, 255, 255, 0.95); padding: 15px; border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1); color: var(--dark);
        }
        .clues-column h3 { margin-top: 0; border-bottom: 2px solid var(--primary); padding-bottom: 5px; }
        ul { list-style: none; padding: 0; max-height: 180px; overflow-y: auto; }
        li { padding: 4px 0; border-bottom: 1px solid #eee; font-size: 0.85rem; }

        .controls { margin-bottom: 15px; }
        button { 
            padding: 12px 25px; cursor: pointer; border: none; border-radius: 50px; 
            font-weight: bold; background: white; color: var(--primary);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2); transition: 0.3s;
        }
        button:hover { transform: scale(1.05); background: #f0f0f0; }
        
        #win-msg { margin-top: 15px; font-size: 1.2rem; font-weight: bold; height: 30px; }
    </style>
</head>
<body>

    <h2>Crucigrama Real-Time ‚ö°</h2>

    <div class="controls">
        <button onclick="generateGame()">üîÑ Generar Nuevo Tablero</button>
    </div>

    <div id="grid-container"></div>
    <div id="win-msg"></div>

    <div class="clues-container">
        <div class="clues-column">
            <h3>‚ÜïÔ∏è Verticales</h3>
            <ul id="v-clues"></ul>
        </div>
        <div class="clues-column">
            <h3>‚ÜîÔ∏è Horizontales</h3>
            <ul id="h-clues"></ul>
        </div>
    </div>

    <script>
        const ROWS = 7;
        const COLS = 9;
        const dictionary = [
    // 3 LETRAS
    {w: "SAL", p: "Cloruro de sodio usado como condimento"},
    {w: "MAR", p: "Masa de agua salada que cubre gran parte de la Tierra"},
    {w: "SOL", p: "Estrella central de nuestro sistema planetario"},
    {w: "CAL", p: "√ìxido de calcio, sustancia blanca c√°ustica"},
    {w: "LEY", p: "Precepto dictado por la autoridad suprema"},
    {w: "PAZ", p: "Situaci√≥n de tranquilidad y falta de guerra"},
    {w: "LUZ", p: "Agente f√≠sico que hace visibles los objetos"},
    {w: "OJO", p: "√ìrgano de la visi√≥n en los seres vivos"},
    {w: "SED", p: "Necesidad o deseo de beber agua"},

    // 4 LETRAS
    {w: "ALMA", p: "Entidad inmaterial que seg√∫n algunas religiones habita en el cuerpo"},
    {w: "VINO", p: "Bebida alcoh√≥lica obtenida de la uva fermentada"},
    {w: "NADA", p: "Inexistencia, ausencia absoluta de cualquier cosa"},
    {w: "RAYO", p: "Descarga el√©ctrica luminosa entre las nubes y la tierra"},
    {w: "AZAR", p: "Casualidad, fuerza que supuestamente determina los sucesos"},
    {w: "POZO", p: "Perforaci√≥n profunda para extraer agua o petr√≥leo"},
    {w: "VELA", p: "Cilindro de cera con una mecha para alumbrar"},
    {w: "AIRE", p: "Mezcla gaseosa que constituye la atm√≥sfera terrestre"},
    {w: "LUNA", p: "√önico sat√©lite natural de la Tierra"},
    {w: "NUDO", p: "Lazo que se estrecha y cierra de modo que sea dif√≠cil de soltar"},
    {w: "EDAD", p: "Tiempo transcurrido desde el nacimiento de un ser"},
    {w: "RAIZ", p: "√ìrgano de las plantas que crece en direcci√≥n inversa al tallo"},
    {w: "RITO", p: "Conjunto de reglas establecidas para un culto o ceremonia"},
    {w: "VIDA", p: "Estado de actividad de los seres org√°nicos"},
    {w: "HUMO", p: "Producto gaseoso que se desprende de una combusti√≥n incompleta"},
    {w: "CARA", p: "Parte anterior de la cabeza humana"},
    {w: "MITO", p: "Narraci√≥n fabulosa de car√°cter sagrado"},
    {w: "SUE√ëO", p: "Estado de reposo en que se suspende toda actividad consciente"},

    // 5 LETRAS
    {w: "FUEGO", p: "Fen√≥meno caracterizado por la emisi√≥n de calor y luz"},
    {w: "NUEVE", p: "N√∫mero natural que sigue al ocho"},
    {w: "ARBOL", p: "Planta perenne de tronco le√±oso y elevado"},
    {w: "LLAVE", p: "Instrumento met√°lico para accionar cerraduras"},
    {w: "NORTE", p: "Punto cardinal que cae frente a un observador orientado al oriente"},
    {w: "POLVO", p: "Part√≠culas diminutas que flotan en el aire o se posan sobre objetos"},
    {w: "ARENA", p: "Conjunto de part√≠culas de rocas disgregadas, com√∫n en desiertos"},
    {w: "NIEVE", p: "Agua helada que cae de las nubes en copos blancos"},
    {w: "MURO", p: "Obra de alba√±iler√≠a levantada en posici√≥n vertical"},
    {w: "CIEGO", p: "Privado de la facultad de ver"},
    {w: "MUNDO", p: "Conjunto de todas las cosas que existen"},
    {w: "HUESO", p: "Pieza dura y resistente que forma el esqueleto de los vertebrados"},
    {w: "SABIO", p: "Persona que posee conocimientos amplios y profundos"},
    {w: "CANTO", p: "Emisi√≥n de sonidos modulados por la voz"},
    {w: "RELOJ", p: "Instrumento para medir el tiempo en horas, minutos y segundos"},
    {w: "MAPA", p: "Representaci√≥n geogr√°fica de la Tierra o parte de ella"},
    {w: "OASIS", p: "Sitio con vegetaci√≥n y agua en medio de un desierto"},
    {w: "LLUVIA", p: "Precipitaci√≥n de agua de la atm√≥sfera"},
    {w: "DUE√ëO", p: "Persona que tiene dominio o propiedad sobre algo"},
    {w: "PULSO", p: "Latido r√≠tmico de las arterias percibido en la mu√±eca"},

    // 6 LETRAS
    {w: "ESPEJO", p: "Superficie pulida que refleja las im√°genes"},
    {w: "HUELLA", p: "Se√±al que deja el pie o la mano en la tierra"},
    {w: "SOMBRA", p: "Oscuridad por la interposici√≥n de un objeto ante la luz"},
    {w: "VIENTO", p: "Corriente de aire producida en la atm√≥sfera"},
    {w: "CAMINO", p: "V√≠a de tierra por donde se transita habitualmente"},
    {w: "OLVIDO", p: "P√©rdida o cese de la memoria de algo"},
    {w: "TIEMPO", p: "Magnitud f√≠sica que permite ordenar la secuencia de sucesos"},
    {w: "DIBUJO", p: "Representaci√≥n gr√°fica sobre una superficie"},
    {w: "PUENTE", p: "Construcci√≥n que permite pasar sobre un r√≠o o foso"},
    {w: "HIERRO", p: "Elemento qu√≠mico met√°lico, gris, d√∫ctil y muy duro"},
    {w: "SANGRE", p: "L√≠quido rojo que circula por las arterias y venas"},
    {w: "CIUDAD", p: "Poblaci√≥n densa cuyos habitantes no se dedican al campo"},
    {w: "BR√öJULA", p: "Instrumento con aguja imantada que se√±ala el norte"},

    // 7 LETRAS
    {w: "DESTINO", p: "Hado o encadenamiento de sucesos considerado inevitable"},
    {w: "MEMORIA", p: "Facultad ps√≠quica de retener y recordar el pasado"},
    {w: "SILUETA", p: "Dibujo sacado siguiendo el contorno de la sombra de un objeto"},
    {w: "PALABRA", p: "Unidad ling√º√≠stica con significado"},
    {w: "VENTANA", p: "Abertura en un muro para dar luz y ventilaci√≥n"},
    {w: "ESCUELA", p: "Establecimiento donde se imparte ense√±anza"},
    {w: "CASCADA", p: "Ca√≠da de agua desde una altura considerable"},
    {w: "M√ÅSCARA", p: "Pieza para ocultar el rostro o protegerlo"},
    {w: "AUREOLA", p: "Resplandor que suele ponerse detr√°s de las cabezas santas"},
    {w: "INVIERNO", p: "Estaci√≥n del a√±o que sigue al oto√±o"},
    {w: "ESTRELLA", p: "Cuerpo celeste que brilla con luz propia en el firmamento"},
    {w: "P√âNDULO", p: "Cuerpo pesado suspendido que puede oscilar"},
    {w: "TESORO", p: "Conjunto de dinero, joyas u otros objetos de valor guardado"},

    // 8 LETRAS
    {w: "HORIZONTE", p: "L√≠nea donde parece que se juntan el cielo y la tierra"},
    {w: "GIGANTE", p: "Ser imaginario de estatura muy superior a la normal"},
    {w: "NAUFRAGIO", p: "P√©rdida o ruina de una embarcaci√≥n en el mar"},
    {w: "ESCRITOR", p: "Persona que se dedica a componer libros u obras literarias"},
    {w: "DESIERTO", p: "Territorio arenoso o pedregoso con escasas lluvias"},
    {w: "SILENCIO", p: "Abstenci√≥n de hablar o ausencia de ruido"},
    {w: "LIBERTAD", p: "Facultad de obrar por reflexi√≥n y elecci√≥n"},
    {w: "NOSTALGIA", p: "Pena de verse ausente de la patria o de los seres queridos"},
    {w: "LABERINTO", p: "Lugar formado por calles enga√±osas de dif√≠cil salida"},

    // 9 LETRAS
    {w: "ESPERANZA", p: "Confianza de lograr lo que se desea"},
    {w: "EQUILIBRIO", p: "Estado de un cuerpo que no cae a pesar de la gravedad"},
    {w: "ETERNIDAD", p: "Duraci√≥n que no tiene principio ni fin"},
    {w: "REL√ÅMPAGO", p: "Resplandor vivo e instant√°neo producido por electricidad"},
    {w: "ACERTIJO", p: "Enigma propuesto como pasatiempo para adivinarlo"},
    {w: "CREP√öSCULO", p: "Claridad que hay desde que raya el d√≠a hasta que sale el sol"},
    {w: "SOLEDAD", p: "Falta de compa√±√≠a"},
    {w: "UNIVERSO", p: "Mundo, conjunto de las cosas creadas"}
];


        let grid = [];
        let placedWords = [];

        function initGrid() {
            grid = Array(ROWS).fill().map(() => Array(COLS).fill(null));
            placedWords = [];
            document.getElementById('win-msg').innerText = "";
        }

        function canPlace(word, r, c, vertical) {
            if (vertical && r + word.length > ROWS) return false;
            if (!vertical && c + word.length > COLS) return false;
            for (let i = 0; i < word.length; i++) {
                let currR = vertical ? r + i : r;
                let currC = vertical ? c : c + i;
                if (grid[currR][currC] !== null && grid[currR][currC] !== word[i]) return false;
            }
            return true;
        }

        function addWord(wordObj, r, c, vertical) {
            for (let i = 0; i < wordObj.w.length; i++) {
                let currR = vertical ? r + i : r;
                let currC = vertical ? c : c + i;
                grid[currR][currC] = wordObj.w[i];
            }
            placedWords.push({ ...wordObj, r, c, vertical, num: placedWords.length + 1 });
        }

        function generateGame() {
            initGrid();
            let pool = [...dictionary].sort(() => Math.random() - 0.5);
            pool.forEach(wordObj => {
                let placed = false;
                for(let tryIdx = 0; tryIdx < 50 && !placed; tryIdx++) {
                    let r = Math.floor(Math.random() * ROWS);
                    let c = Math.floor(Math.random() * COLS);
                    let vert = Math.random() > 0.5;
                    if (canPlace(wordObj.w, r, c, vert)) {
                        addWord(wordObj, r, c, vert);
                        placed = true;
                    }
                }
            });
            drawGrid();
        }

        function drawGrid() {
            const container = document.getElementById('grid-container');
            container.innerHTML = '';
            document.getElementById('h-clues').innerHTML = '';
            document.getElementById('v-clues').innerHTML = '';

            for (let r = 0; r < ROWS; r++) {
                for (let c = 0; c < COLS; c++) {
                    const cellDiv = document.createElement('div');
                    cellDiv.className = 'cell';
                    if (grid[r][c]) {
                        cellDiv.classList.add('white');
                        const input = document.createElement('input');
                        input.maxLength = 1;
                        input.dataset.answer = grid[r][c];
                        input.dataset.r = r;
                        input.dataset.c = c;
                        
                        input.addEventListener('input', (e) => validateInput(e.target));
                        input.addEventListener('keydown', handleNav);

                        const wordStart = placedWords.find(w => w.r === r && w.c === c);
                        if (wordStart) {
                            const span = document.createElement('span');
                            span.className = 'num';
                            span.innerText = wordStart.num;
                            cellDiv.appendChild(span);
                        }
                        cellDiv.appendChild(input);
                    }
                    container.appendChild(cellDiv);
                }
            }

            placedWords.forEach(w => {
                const li = document.createElement('li');
                li.innerText = `${w.num}. ${w.p}`;
                document.getElementById(w.vertical ? 'v-clues' : 'h-clues').appendChild(li);
            });
        }

        function validateInput(input) {
            const val = input.value.toUpperCase();
            const parent = input.parentElement;
            
            if (val === "") {
                parent.classList.remove('correct', 'wrong');
                return;
            }

            if (val === input.dataset.answer) {
                parent.classList.add('correct');
                parent.classList.remove('wrong');
                focusNext(input);
            } else {
                parent.classList.add('wrong');
                parent.classList.remove('correct');
            }
            checkWin();
        }

        function focusNext(current) {
            const inputs = Array.from(document.querySelectorAll('input'));
            const index = inputs.indexOf(current);
            if (index < inputs.length - 1) inputs[index + 1].focus();
        }

        function handleNav(e) {
            if (e.key === "Backspace" && e.target.value === "") {
                const inputs = Array.from(document.querySelectorAll('input'));
                const index = inputs.indexOf(e.target);
                if (index > 0) inputs[index - 1].focus();
            }
        }

        function checkWin() {
            const inputs = Array.from(document.querySelectorAll('input'));
            const allCorrect = inputs.every(i => i.value.toUpperCase() === i.dataset.answer);
            if (allCorrect && inputs.length > 0) {
                document.getElementById('win-msg').innerText = "¬°FELICIDADES! üéâüèÜ";
            }
        }

        generateGame();
    </script>
</body>
</html>

