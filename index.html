<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Codex_ius | Instituto de Derecho & Humanidad</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,700;1,400&family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/theme.css">
    <link rel="stylesheet" href="css/layouts/home.css">
</head>
<body>

    <header role="banner">
        <div class="logo">CODEX<span>_IUS</span></div>
        <nav>
            <button class="btn-dots" id="menuToggle" aria-label="Menú de contacto">
                <i id="menuIcon">•••</i>
            </button>
        </nav>
    </header>

    <aside class="contact-drawer" id="contactDrawer">
        <div class="drawer-content">
            <span class="tag">Institucional</span>
            <h2>Contacto & Vínculos</h2>
            <p>Codex_ius es un espacio de pensamiento jurídico y tecnológico con base en Mendoza, Argentina.</p>
            <ul class="contact-list" style="list-style: none; padding: 0; margin: 2rem 0;">
                <li style="margin-bottom: 1.5rem;">
                    <small style="display:block; opacity: 0.5; text-transform: uppercase; font-size: 0.6rem; letter-spacing: 1px;">Email</small>
                    <strong>contacto@codexius.edu.ar</strong>
                </li>
                <li style="margin-bottom: 1.5rem;">
                    <small style="display:block; opacity: 0.5; text-transform: uppercase; font-size: 0.6rem; letter-spacing: 1px;">Ubicación</small>
                    <strong>Mendoza, Argentina</strong>
                </li>
                <li>
                    <small style="display:block; opacity: 0.5; text-transform: uppercase; font-size: 0.6rem; letter-spacing: 1px;">Propósito</small>
                    <strong>Investigación & Desarrollo Legal</strong>
                </li>
            </ul>
            <div class="drawer-footer">
                <a href="mailto:contacto@codexius.edu.ar" class="btn">Enviar un mensaje</a>
            </div>
        </div>
    </aside>

    <aside class="contact-drawer" id="repoDrawer">
        <div class="drawer-content" style="max-width: 600px; width: 95%;">
            <button class="close-drawer" onclick="closeRepo()">&times;</button>
            <span class="tag">Biblioteca Digital</span>
            <h2>Repositorio de Saber</h2>
            <div class="search-box">
                <input type="text" id="repoSearch" placeholder="Buscar por tema, ley o autor...">
            </div>
            <div class="repo-filters">
                <button class="filter-btn active" onclick="filterRepo('todos')">Todos</button>
                <button class="filter-btn" onclick="filterRepo('cursos')">Cursos</button>
                <button class="filter-btn" onclick="filterRepo('doctrina')">Doctrina</button>
                <button class="filter-btn" onclick="filterRepo('legislacion')">Leyes</button>
            </div>
            <div id="repoResults" class="repo-list"></div>
        </div>
    </aside>

    <aside class="contact-drawer" id="appsDrawer">
        <div class="drawer-content" style="max-width: 600px; width: 95%;">
            <button class="close-drawer" onclick="closeApps()">&times;</button>
            <span class="tag">Herramientas Digitales</span>
            <h2>Software & Toolbox</h2>
            <p style="font-size: 0.8rem; opacity: 0.7; margin-bottom: 2rem;">Utilidades de cálculo y productividad para el ejercicio profesional.</p>
            <div id="appsResults" class="apps-grid"></div>
            <div style="margin-top: 3rem; text-align: center;">
                <p style="font-size: 0.7rem; opacity: 0.4;">MENDOZA / CODEX_IUS — MODO WORKSTATION</p>
            </div>
        </div>
    </aside>

    <section class="hero">
        <span>INSTITUTO JURÍDICO DIGITAL</span>
        <h1>Justicia con rostro humano, tecnología con alma.</h1>
        <p>Un espacio para repensar la norma en la frontera de la inteligencia artificial.</p>
    </section>

    <section class="stats-bar">
        <div class="stat-item"><b>150+</b><span>Publicaciones</span></div>
        <div class="stat-item"><b>12k</b><span>Comunidad</span></div>
        <div class="stat-item"><b>04</b><span>Software</span></div>
        <div class="stat-item"><b>2026</b><span>Visión</span></div>
    </section>

    <section class="news-section">
        <div class="news-reel" id="news-reel"></div>
    </section>

    <main class="mural" id="main-mural"></main>

    <section class="featured">
        <span style="font-size: 0.7rem; font-weight: 800; color: var(--accent); letter-spacing: 2px;">DESTACADO</span>
        <h2>¿Quién juzga al algoritmo?</h2>
        <p>Investigación especial sobre los sesgos en la IA judicial y la defensa de la discrecionalidad humana.</p>
        <a href="#" class="btn" style="background: var(--accent); color: var(--text-h);">Leer Investigación</a>
    </section>

    <footer>
        <p>MENDOZA, ARGENTINA — 2026 CODEX_IUS</p>
    </footer>

    <script>
        /* DATA */
        const noticiasData = [
            { categoria: "Investigación", titulo: "IA y Debido Proceso", resumen: "Análisis sobre la aplicación de algoritmos en sentencias judiciales.", url: "noticias/ia-proceso.html" },
            { categoria: "Local", titulo: "Reforma Digital Mendoza", resumen: "Nuevos protocolos para el expediente electrónico provincial.", url: "noticias/reforma-mza.html" },
            { categoria: "Tendencias", titulo: "El Abogado Algorítmico", resumen: "Cómo la automatización está cambiando el perfil del jurista.", url: "noticias/abogado-ia.html" }
        ];

        const repositorioData = [
            { grupo: "cursos", materia: "Penal", titulo: "Garantías Digitales", meta: "4hs Video", url: "#" },
            { grupo: "doctrina", materia: "Civil", titulo: "IA y Responsabilidad", meta: "2.5k Palabras", url: "#" },
            { grupo: "legislacion", materia: "Nacional", titulo: "Código Civil 2026", meta: "Ley Vigente", url: "#" },
            { grupo: "legislacion", materia: "Provincial", titulo: "Código Procesal Mza", meta: "Ley 9001", url: "#" },
            { grupo: "doctrina", materia: "Laboral", titulo: "Teletrabajo y Desconexión", meta: "1.8k Palabras", url: "#" }
        ];

        const appsData = [
            { tag: "Cálculo", title: "Calculadora Previsional", icon: "∑", url: "apps/calc.html" },
            { tag: "Texto", title: "Editor de Escritos", icon: "✎", url: "apps/editor.html" },
            { tag: "Web", title: "Playground HTML", icon: "</>", url: "apps/play.html" },
            { tag: "Cifrado", title: "Generador de Firmas", icon: "⚿", url: "apps/firmas.html" }
        ];

        const muralData = [
            { id: "repositorio", tag: "Saber", title: "Repositorio de Doctrina", desc: "Biblioteca para el jurista del siglo XXI.", linkText: "Abrir Biblioteca", url: "javascript:openRepo()", type: "repositorio" },
            { id: "apps", tag: "Acción", title: "Software Legal", desc: "Utilidades para humanizar la labor diaria.", linkText: "Usar Toolbox", url: "javascript:openApps()", type: "apps" }
        ];

        /* RENDERERS */
        function renderNews() {
            const reel = document.getElementById('news-reel');
            if(reel) reel.innerHTML = noticiasData.map(post => `
                <a href="${post.url}" class="news-card">
                    <div class="news-meta">${post.categoria}</div>
                    <h3>${post.titulo}</h3>
                    <p>${post.resumen}</p>
                    <span class="panel-link" style="margin-top:20px">Leer más <span>→</span></span>
                </a>`).join('');
        }

        function renderMural() {
            const mural = document.getElementById('main-mural');
            if(mural) mural.innerHTML = muralData.map(item => `
                <a href="${item.url}" class="panel ${item.type}">
                    <span class="tag">${item.tag}</span>
                    <h2>${item.title}</h2>
                    <p>${item.desc}</p>
                    <span class="panel-link">${item.linkText} <span>→</span></span>
                </a>`).join('');
        }

        function renderRepoItems(data) {
            const container = document.getElementById('repoResults');
            if(container) container.innerHTML = data.map(item => `
                <a href="${item.url}" class="repo-item">
                    <div class="repo-info"><span>${item.materia} // ${item.grupo}</span><h4>${item.titulo}</h4></div>
                    <div class="repo-meta">${item.meta}</div>
                </a>`).join('');
        }

        function filterRepo(categoria) {
            document.querySelectorAll('.filter-btn').forEach(btn => {
                const text = btn.innerText.toLowerCase();
                btn.classList.toggle('active', text === categoria || (text === 'todos' && categoria === 'todos'));
            });
            const filtrados = categoria === 'todos' ? repositorioData : repositorioData.filter(i => i.grupo.toLowerCase() === categoria.toLowerCase());
            renderRepoItems(filtrados);
        }

        function renderApps() {
            const container = document.getElementById('appsResults');
            if(container) container.innerHTML = appsData.map(app => `
                <a href="${app.url}" class="app-tile">
                    <span class="app-tag">${app.tag}</span>
                    <div class="app-icon">${app.icon}</div>
                    <h4>${app.title}</h4>
                </a>`).join('');
        }

        /* PANELES */
        function openRepo() { document.getElementById('repoDrawer').classList.add('active'); document.body.style.overflow = 'hidden'; filterRepo('todos'); }
        function closeRepo() { document.getElementById('repoDrawer').classList.remove('active'); document.body.style.overflow = 'auto'; }
        function openApps() { document.getElementById('appsDrawer').classList.add('active'); document.body.style.overflow = 'hidden'; renderApps(); }
        function closeApps() { document.getElementById('appsDrawer').classList.remove('active'); document.body.style.overflow = 'auto'; }

        /* INICIO */
        document.addEventListener('DOMContentLoaded', () => {
            renderNews();
            renderMural();
            
            const menuToggle = document.getElementById('menuToggle');
            const menuIcon = document.getElementById('menuIcon');
            const contactDrawer = document.getElementById('contactDrawer');

            menuToggle?.addEventListener('click', () => {
                const active = contactDrawer.classList.toggle('active');
                menuIcon.innerHTML = active ? '&times;' : '•••';
                document.body.style.overflow = active ? 'hidden' : 'auto';
            });

            document.getElementById('repoSearch')?.addEventListener('input', (e) => {
                const term = e.target.value.toLowerCase();
                renderRepoItems(repositorioData.filter(i => i.titulo.toLowerCase().includes(term) || i.materia.toLowerCase().includes(term)));
            });

            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    [contactDrawer, document.getElementById('repoDrawer'), document.getElementById('appsDrawer')].forEach(d => d.classList.remove('active'));
                    menuIcon.innerHTML = '•••';
                    document.body.style.overflow = 'auto';
                }
            });
        });
    </script>
</body>
</html>
